{% load compress %}

{% compress js %}

<script src='{{ STATIC_URL }}horizon/lib/jquery/jquery.js' type='text/javascript' charset="utf-8"></script>
<script src="{{ STATIC_URL }}horizon/lib/angular/angular.js" type="text/javascript" charset="utf-8"></script>


<script src='{{ STATIC_URL }}horizon/js/horizon.js' type='text/javascript' charset='utf-8'></script>
<script src='{{ STATIC_URL }}horizon/js/angular/horizon.js' type='text/javascript' charset='utf-8'></script>
<script type='text/javascript' charset='utf-8'>
/* Storage for backend configuration variables which the frontend
 * should be aware of.
 */

horizonApp
  .config(['hzConfig', function (hzConfig) {
    hzConfig.debug = {{ HORIZON_CONFIG.debug|yesno:"true,false" }};
    hzConfig.static_url = "{{ STATIC_URL }}";
    hzConfig.ajax = {
      queue_limit: {{ HORIZON_CONFIG.ajax_queue_limit|default:"null" }}
    };
    hzConfig.auto_fade_alerts = {
      delay: {{ HORIZON_CONFIG.auto_fade_alerts.delay|default:"3000" }},
      fade_duration: {{ HORIZON_CONFIG.auto_fade_alerts.fade_duration|default:"1500" }},
      types: {{ HORIZON_CONFIG.auto_fade_alerts.types|default:"[]"|safe }},
      default_type: 'info'
    };
    hzConfig.nav_accordion = {
      all_open: {{ HORIZON_CONFIG.nav_accordion.all_open|yesno:"true,false"|default:"false" }},
      one_at_a_time: {{ HORIZON_CONFIG.nav_accordion.one_at_a_time|yesno:"true,false"|default:"true" }}
    };
}]);

</script>
{% endcompress %}
